<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chioriya Developer | Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        :root {
            --primary: #8B4513;
            --primary-light: #A0522D;
            --secondary: #D2691E;
            --accent: #FF8C00;
            --text: #333333;
            --text-light: #666666;
            --bg: #FDF6E3;
            --card-bg: #FFFFFF;
            --shadow: rgba(139, 69, 19, 0.1);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --gradient: linear-gradient(135deg, var(--primary), var(--accent));
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        .dark-theme {
            --primary: #D2691E;
            --primary-light: #A0522D;
            --secondary: #8B4513;
            --accent: #FFA500;
            --text: #F0E6D2;
            --text-light: #C0B8A8;
            --bg: #1A1A1A;
            --card-bg: #2D2D2D;
            --shadow: rgba(0, 0, 0, 0.3);
            --glass-bg: rgba(45, 45, 45, 0.3);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        .amoled-dark {
            --bg: #000000;
            --card-bg: #111111;
            --text: #E0E0E0;
            --text-light: #A0A0A0;
            --glass-bg: rgba(17, 17, 17, 0.8);
            --glass-border: rgba(255, 255, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: all 0.8s cubic-bezier(0.77, 0, 0.175, 1);
            overflow: hidden;
            cursor: pointer;
        }

        .welcome-screen.hidden {
            opacity: 0;
            visibility: hidden;
            transform: scale(1.1);
        }

        .welcome-content {
            text-align: center;
            color: white;
            max-width: 500px;
            padding: 0 20px;
            z-index: 10;
            position: relative;
        }

        .welcome-logo {
            font-size: 5rem;
            font-weight: 700;
            margin-bottom: 30px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: logoPulse 2s infinite alternate;
        }

        @keyframes logoPulse {
            0% {
                transform: scale(1);
                text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }
            100% {
                transform: scale(1.05);
                text-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            }
        }

        .progress-container {
            width: 100%;
            max-width: 300px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 8px;
            margin: 20px auto;
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
        }

        .progress-bar {
            height: 100%;
            background: white;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .progress-text {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 15px;
            min-height: 1.5em;
        }

        .loading-detail {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            margin-bottom: 25px;
            min-height: 1.2em;
        }

        .click-instruction {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            margin-top: 20px;
            animation: fadeInOut 2s infinite;
        }

        @keyframes fadeInOut {
            0%, 100% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
        }

        .liquid-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .liquid-shape {
            position: absolute;
            border-radius: 40%;
            background: rgba(255, 255, 255, 0.1);
            animation: float 8s infinite linear;
            opacity: 0.7;
        }

        .liquid-shape:nth-child(1) {
            width: 200px;
            height: 200px;
            top: 10%;
            left: 10%;
            animation-duration: 10s;
            animation-delay: 0s;
        }

        .liquid-shape:nth-child(2) {
            width: 150px;
            height: 150px;
            top: 60%;
            left: 80%;
            animation-duration: 12s;
            animation-delay: 1s;
        }

        .liquid-shape:nth-child(3) {
            width: 100px;
            height: 100px;
            top: 80%;
            left: 20%;
            animation-duration: 9s;
            animation-delay: 0.5s;
        }

        .liquid-shape:nth-child(4) {
            width: 120px;
            height: 120px;
            top: 30%;
            left: 70%;
            animation-duration: 11s;
            animation-delay: 1.5s;
        }

        .liquid-shape:nth-child(5) {
            width: 180px;
            height: 180px;
            top: 70%;
            left: 40%;
            animation-duration: 15s;
            animation-delay: 2s;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
                border-radius: 40%;
            }
            25% {
                transform: translate(50px, 50px) rotate(90deg);
                border-radius: 50%;
            }
            50% {
                transform: translate(100px, -50px) rotate(180deg);
                border-radius: 60%;
            }
            75% {
                transform: translate(-50px, 50px) rotate(270deg);
                border-radius: 50%;
            }
            100% {
                transform: translate(0, 0) rotate(360deg);
                border-radius: 40%;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--glass-border);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 30px;
            position: relative;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            position: relative;
            padding: 5px 0;
            transition: var(--transition);
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.4s cubic-bezier(0.65, 0, 0.35, 1);
        }

        nav ul li a:hover::after,
        nav ul li a.active::after {
            width: 100%;
        }

        .nav-indicator {
            position: absolute;
            bottom: -2px;
            left: 0;
            height: 2px;
            background: var(--accent);
            border-radius: 1px;
            transition: all 0.4s cubic-bezier(0.65, 0, 0.35, 1);
            z-index: 1;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .language-toggle {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 15px var(--shadow);
            cursor: pointer;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .language-toggle:hover {
            width: 120px;
            border-radius: 30px;
        }

        .language-toggle.active {
            width: 120px;
            border-radius: 30px;
        }

        .language-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            color: var(--text);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 1;
        }

        .language-toggle:hover .language-icon,
        .language-toggle.active .language-icon {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
        }

        .language-options {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }

        .language-option {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .language-toggle:hover .language-option,
        .language-toggle.active .language-option {
            opacity: 1;
            transform: scale(1);
        }

        .language-option span {
            font-weight: 600;
            font-size: 1rem;
            color: var(--text);
            transition: var(--transition);
        }

        .language-option.active span {
            color: var(--accent);
        }

        .language-highlight {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 50%;
            z-index: -1;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 15px var(--shadow);
            cursor: pointer;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .theme-toggle.active {
            width: 120px;
            border-radius: 30px;
        }

        .theme-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            color: var(--text);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 1;
        }

        .theme-toggle.active .theme-icon {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
        }

        .theme-options {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }

        .theme-option {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .theme-toggle.active .theme-option {
            opacity: 1;
            transform: scale(1);
        }

        .theme-option i {
            font-size: 1.2rem;
            color: var(--text);
            transition: var(--transition);
        }

        .theme-option.active i {
            color: var(--accent);
        }

        .theme-highlight {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 50%;
            z-index: -1;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .music-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: transparent;
            border: none;
            color: var(--text);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            position: relative;
        }

        .music-btn:hover {
            transform: scale(1.1);
            color: var(--accent);
        }

        .music-btn.active {
            animation: musicPlaying 2s infinite ease-in-out;
            color: var(--accent);
        }

        .music-btn.muted::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            width: 3px;
            height: 60%;
            background: var(--accent);
            z-index: 10;
            border-radius: 2px;
        }

        .music-btn.changing {
            animation: musicChanging 0.6s ease-in-out;
        }

        .music-icon {
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .music-player {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            width: 300px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow);
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1001;
        }

        .music-player.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .music-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .music-cover {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
            overflow: hidden;
            transition: var(--transition);
        }

        .music-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .music-cover.changing {
            animation: coverChanging 0.6s ease-in-out;
        }

        .music-details {
            flex: 1;
            overflow: hidden;
        }

        .marquee-container {
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        .marquee-content {
            display: inline-block;
            white-space: nowrap;
            animation: marquee 10s linear infinite;
            padding-left: 100%;
        }

        @keyframes marquee {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        .music-title {
            font-weight: 600;
            font-size: 1rem;
            color: var(--text);
        }

        .music-artist {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .music-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .music-control-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
        }

        .music-control-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .music-control-btn.play-pause {
            width: 50px;
            height: 50px;
            background: var(--gradient);
            color: white;
        }

        .music-control-btn.play-pause:hover {
            transform: scale(1.05);
        }

        .music-player-expand {
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .music-player-expand:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            margin-left: auto;
            width: 40px;
            height: 40px;
            position: relative;
        }

        .mobile-menu-btn:hover {
            transform: scale(1.1);
        }

        .mobile-menu-btn .bar {
            position: absolute;
            height: 3px;
            width: 24px;
            background: var(--text);
            border-radius: 2px;
            left: 8px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .mobile-menu-btn .bar:nth-child(1) {
            top: 12px;
        }

        .mobile-menu-btn .bar:nth-child(2) {
            top: 18px;
        }

        .mobile-menu-btn .bar:nth-child(3) {
            top: 24px;
        }

        .mobile-menu-btn.active .bar:nth-child(1) {
            transform: rotate(45deg);
            top: 18px;
        }

        .mobile-menu-btn.active .bar:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active .bar:nth-child(3) {
            transform: rotate(-45deg);
            top: 18px;
        }

        .hero {
            padding: 180px 0 100px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            opacity: 0.05;
            z-index: -1;
        }

        .hero-liquid-shape {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: var(--bg);
            border-radius: 50% 50% 0 0;
            z-index: -1;
        }

        .profile-img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.3);
            margin: 0 auto 30px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            animation: floatProfile 6s ease-in-out infinite;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
        }

        .profile-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes floatProfile {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 15px;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: fadeInUp 1s ease;
        }

        .tagline {
            font-size: 1.5rem;
            margin-bottom: 30px;
            opacity: 0.9;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background: var(--gradient);
            color: white;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 10px 20px rgba(139, 69, 19, 0.3);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            animation: fadeInUp 1s ease 0.4s both;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.7s ease;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(139, 69, 19, 0.4);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        section {
            padding: 100px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 60px;
            color: var(--primary);
            position: relative;
            animation: fadeIn 1s ease;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .about-text {
            flex: 1;
        }

        .about-text p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: var(--text-light);
        }

        .skills {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .skill-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .skill-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }

        .skill-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px var(--shadow);
        }

        .skill-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .skill-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .projects {
            background: linear-gradient(135deg, var(--bg) 0%, var(--card-bg) 100%);
        }

        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .project-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .project-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px var(--shadow);
        }

        .project-img {
            height: 200px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .project-content {
            padding: 25px;
        }

        .project-content h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .contact-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 50px;
        }

        .contact-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: var(--card-bg);
            border-radius: 50px;
            text-decoration: none;
            color: var(--text);
            font-weight: 600;
            box-shadow: 0 5px 15px var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .contact-link:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px var(--shadow);
            background: var(--primary);
            color: white;
        }

        .contact-link.active {
            transform: scale(1.05);
            z-index: 10;
        }

        .contact-link.active ~ .contact-link {
            opacity: 0.3;
            transform: scale(0.95);
        }

        .contact-link i {
            font-size: 1.2rem;
        }

        .contact-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .contact-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 50px var(--shadow);
            transform: scale(0.9) translateY(20px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }

        .contact-modal.active .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .modal-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text);
        }

        .modal-body {
            margin-bottom: 25px;
        }

        .url-container {
            display: flex;
            align-items: center;
            background: var(--card-bg);
            border-radius: 10px;
            padding: 12px 15px;
            margin-bottom: 20px;
            border: 1px solid var(--glass-border);
        }

        .url-text {
            flex: 1;
            font-family: monospace;
            color: var(--text);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .copy-btn {
            background: var(--gradient);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 10px;
        }

        .copy-btn:hover {
            transform: scale(1.1);
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        .modal-btn {
            padding: 10px 25px;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-btn.join {
            background: var(--gradient);
            color: white;
        }

        .modal-btn.join:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .modal-btn.close {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--glass-border);
        }

        .modal-btn.close:hover {
            background: var(--card-bg);
        }

        .toast-container {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            pointer-events: none;
        }

        .toast {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            padding: 10px 20px;
            color: var(--text);
            box-shadow: 0 15px 35px var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 280px;
            text-align: center;
            transform: scale(0);
            transform-origin: center;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
            overflow: hidden;
            cursor: pointer;
            pointer-events: all;
        }

        .toast.active {
            transform: scale(1);
            opacity: 1;
        }

        .toast.exiting {
            transform: scale(0);
            opacity: 0;
        }

        .toast i {
            color: var(--accent);
            font-size: 1.2rem;
        }

        .toast-content {
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .music-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .music-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .music-popup-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 80vh;
            box-shadow: 0 20px 50px var(--shadow);
            transform: scale(0.9) translateY(20px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            overflow: hidden;
        }

        .music-popup.active .music-popup-container {
            transform: scale(1) translateY(0);
        }

        .music-popup-player {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            position: relative;
        }

        .music-popup-options {
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 10;
        }

        .music-popup-options-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
        }

        .music-popup-options-btn:hover {
            background: var(--primary);
            color: white;
        }

        .music-popup-options-menu {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 10px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            box-shadow: 0 10px 30px var(--shadow);
            padding: 10px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            min-width: 180px;
        }

        .music-popup-options-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .music-popup-option {
            width: 100%;
            padding: 10px 20px;
            background: none;
            border: none;
            text-align: left;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .music-popup-option:hover {
            background: var(--primary);
            color: white;
        }

        .music-popup-list {
            flex: 1;
            padding: 30px;
            background: var(--glass-bg);
            overflow-y: auto;
            max-height: 70vh;
            display: flex;
            flex-direction: column;
        }

        .music-popup-list-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            background: var(--glass-bg);
            z-index: 10;
            padding: 10px 0;
        }

        .music-popup-list-content {
            flex: 1;
            overflow-y: auto;
        }

        .music-popup-lyrics {
            display: none;
            flex: 1;
            padding: 30px;
            background: var(--glass-bg);
            overflow-y: auto;
            max-height: 70vh;
            flex-direction: column;
        }

        .lyrics-close-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .lyrics-close-btn:hover {
            background: var(--primary);
            color: white;
        }

        .lyrics-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: var(--glass-bg);
            border-radius: 10px;
            border: 1px solid var(--glass-border);
            color: var(--text);
            white-space: pre-wrap;
            font-family: inherit;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
        }

        .lyrics-content.active {
            opacity: 1;
            transform: translateY(0);
        }

        .music-popup-cover {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        .music-popup-cover.changing {
            animation: coverChanging 0.6s ease-in-out;
        }

        .music-popup-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .music-popup-title {
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 5px;
            color: var(--text);
            transition: var(--transition);
        }

        .music-popup-title.changing {
            animation: textChange 0.5s ease;
        }

        .music-popup-artist {
            font-size: 1rem;
            text-align: center;
            margin-bottom: 25px;
            color: var(--text-light);
            transition: var(--transition);
        }

        .music-popup-artist.changing {
            animation: textChange 0.5s ease;
        }

        .music-popup-progress {
            width: 100%;
            margin-bottom: 20px;
        }

        .progress-time {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .progress-bar-container {
            width: 100%;
            height: 6px;
            background: var(--glass-bg);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }

        .music-popup-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .music-popup-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
        }

        .music-popup-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .music-popup-btn.play-pause {
            width: 60px;
            height: 60px;
            background: var(--gradient);
            color: white;
        }

        .music-popup-btn.play-pause:hover {
            transform: scale(1.05);
        }

        .music-popup-list-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text);
            text-align: center;
            margin-top: 10px;
        }

        .music-popup-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        .music-popup-item:hover {
            background: var(--glass-bg);
            border-color: var(--glass-border);
        }

        .music-popup-item.active {
            background: var(--glass-bg);
            border-color: var(--accent);
        }

        .music-popup-item-cover {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .music-popup-item-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .music-popup-item-info {
            flex: 1;
            overflow: hidden;
        }

        .music-popup-item-title {
            font-weight: 500;
            color: var(--text);
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .music-popup-item-artist {
            font-size: 0.85rem;
            color: var(--text-light);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .music-popup-item-duration {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-left: 10px;
        }

        .music-popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .music-popup-close:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .settings-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .settings-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .settings-popup-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 80vh;
            box-shadow: 0 20px 50px var(--shadow);
            transform: scale(0.9) translateY(20px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            overflow: hidden;
        }

        .settings-popup.active .settings-popup-container {
            transform: scale(1) translateY(0);
        }

        .settings-popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .settings-popup-close:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .settings-popup-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--text);
            text-align: center;
        }

        .settings-columns {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .settings-left {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            max-height: calc(80vh - 60px);
        }

        .settings-right {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            border-left: 1px solid var(--glass-border);
            max-height: calc(80vh - 60px);
        }

        .settings-section {
            margin-bottom: 30px;
        }

        .settings-section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 5px;
        }

        .settings-list {
            display: grid;
            gap: 15px;
        }

        .settings-item {
            background: var(--glass-bg);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .settings-item-info {
            flex: 1;
        }

        .settings-item-title {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 5px;
        }

        .settings-item-desc {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
        }

        .toggle-checkbox {
            display: none;
        }

        .toggle-label {
            position: absolute;
            top: 0;
            left: 0;
            width: 50px;
            height: 24px;
            background-color: var(--text-light);
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .toggle-label::after {
            content: "";
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: white;
            transition: transform 0.3s;
        }

        .toggle-checkbox:checked + .toggle-label {
            background-color: var(--accent);
        }

        .toggle-checkbox:checked + .toggle-label::after {
            transform: translateX(26px);
        }

        .game-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
        }

        .game-item {
            background: var(--glass-bg);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .game-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
            background: var(--primary);
            color: white;
        }

        .game-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--accent);
        }

        .game-item:hover .game-icon {
            color: white;
        }

        .game-name {
            font-weight: 600;
            font-size: 1rem;
        }

        .playlist-view {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .playlist-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .playlist-back-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
        }

        .playlist-back-btn:hover {
            background: var(--primary);
            color: white;
        }

        .playlist-search {
            flex: 1;
            position: relative;
        }

        .playlist-search input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 25px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .playlist-search input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .playlist-search i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .playlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            overflow-y: auto;
            flex: 1;
        }

        .playlist-item {
            background: var(--glass-bg);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .playlist-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
            background: var(--primary);
            color: white;
        }

        .playlist-cover {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            overflow: hidden;
            margin: 0 auto 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .playlist-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .playlist-name {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .playlist-count {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .playlist-item:hover .playlist-count {
            color: rgba(255, 255, 255, 0.8);
        }

        .playlist-item.active {
            background: var(--primary);
            color: white;
        }

        .playlist-item.active .playlist-count {
            color: rgba(255, 255, 255, 0.8);
        }

        @keyframes coverChanging {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes textChange {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .music-title.changing,
        .music-artist.changing {
            animation: textChange 0.5s ease;
        }

        @media (max-width: 768px) {
            .header-container {
                padding: 15px 20px;
            }

            .mobile-menu-btn {
                display: block;
            }

            nav {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background: var(--glass-bg);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--glass-border);
                box-shadow: 0 10px 20px var(--shadow);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                z-index: 999;
                padding: 0 20px;
            }

            nav.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
                animation: slideDown 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            nav ul {
                flex-direction: column;
                padding: 20px 0;
                text-align: center;
            }

            nav ul li {
                margin: 15px 0;
                animation: bounceIn 0.6s ease forwards;
                opacity: 0;
                transform: scale(0.8);
            }

            .nav-indicator {
                display: none;
            }

            .controls {
                gap: 10px;
            }

            .theme-toggle, .language-toggle, .music-btn {
                width: 45px;
                height: 45px;
            }

            .theme-toggle.active, .language-toggle:hover, .language-toggle.active {
                width: 110px;
            }

            .theme-highlight, .language-highlight {
                width: 35px;
                height: 35px;
            }

            .music-player {
                width: 280px;
                right: -20px;
            }

            .toast {
                max-width: 220px;
                padding: 8px 16px;
            }
            
            .toast-content {
                font-size: 0.8rem;
            }
            
            .music-toast .toast-content {
                display: none;
            }
            
            .music-toast::after {
                content: "Music";
                font-size: 0.8rem;
            }

            .music-popup-container {
                flex-direction: column;
                max-height: 85vh;
            }

            .music-popup-player {
                min-height: 300px;
                padding: 20px;
            }

            .music-popup-list {
                max-height: 40vh;
                padding: 20px;
            }

            .music-popup-lyrics {
                max-height: 40vh;
                padding: 20px;
            }

            .music-popup-cover {
                width: 150px;
                height: 150px;
            }

            .settings-popup-container {
                flex-direction: column;
                max-height: 85vh;
            }

            .settings-columns {
                flex-direction: column;
            }

            .settings-left, .settings-right {
                padding: 20px;
                overflow-y: auto;
                max-height: 40vh;
                flex: 1;
            }

            .settings-right {
                border-left: none;
                border-top: 1px solid var(--glass-border);
            }

            .game-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 15px;
            }

            .game-item {
                padding: 15px;
            }

            .game-icon {
                font-size: 2rem;
            }

            .playlist-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 15px;
            }

            .playlist-item {
                padding: 15px;
            }

            .playlist-cover {
                width: 80px;
                height: 80px;
            }

            h1 {
                font-size: 2.5rem;
            }
            
            .tagline {
                font-size: 1.2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .contact-links {
                flex-direction: column;
                align-items: center;
            }

            .contact-link {
                width: 100%;
                max-width: 250px;
            }

            .contact-link.active ~ .contact-link {
                opacity: 1;
                transform: scale(1);
            }
        }

        footer {
            background: var(--gradient);
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: 80px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes musicPlaying {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes musicChanging {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes iconTransition {
            0% {
                opacity: 0;
                transform: scale(0.5) rotate(-90deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }

        .fade-in-up {
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        .fade-in-left {
            opacity: 0;
            animation: fadeInLeft 1s ease forwards;
        }

        .fade-in-right {
            opacity: 0;
            animation: fadeInRight 1s ease forwards;
        }

        .delay-1 {
            animation-delay: 0.2s;
        }

        .delay-2 {
            animation-delay: 0.4s;
        }

        .delay-3 {
            animation-delay: 0.6s;
        }

        @media (max-width: 992px) {
            .about-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.8rem;
            }
            
            .tagline {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 576px) {
            .hero {
                padding: 150px 0 80px;
            }

            h1 {
                font-size: 2.2rem;
            }

            .profile-img {
                width: 170px;
                height: 170px;
                font-size: 3rem;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .contact-links {
                flex-direction: column;
                align-items: center;
            }

            .contact-link {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }

            .header-container {
                padding: 15px 15px;
            }

            .music-player {
                width: 250px;
                right: -30px;
            }

            .modal-content {
                padding: 20px;
            }

            .modal-header {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="welcome-screen" id="welcome-screen">
        <div class="liquid-shapes">
            <div class="liquid-shape"></div>
            <div class="liquid-shape"></div>
            <div class="liquid-shape"></div>
            <div class="liquid-shape"></div>
            <div class="liquid-shape"></div>
        </div>
        <div class="welcome-content">
            <div class="welcome-logo">Chioriya</div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="progress-text" id="progress-text">0%</div>
            <div class="loading-detail" id="loading-detail">Mempersiapkan...</div>
            
            <div class="click-instruction" id="click-instruction" style="display: none;">Klik di mana saja untuk melanjutkan</div>
        </div>
    </div>

    <header>
        <div class="container header-container">
            <div class="logo" id="logo">Chioriya</div>
            
            <nav id="main-nav">
                <div class="nav-indicator"></div>
                <ul>
                    <li><a href="#about" class="nav-link active" id="nav-about">Tentang</a></li>
                    <li><a href="#skills" class="nav-link" id="nav-skills">Keahlian</a></li>
                    <li><a href="#projects" class="nav-link" id="nav-projects">Projects</a></li>
                    <li><a href="#contact" class="nav-link" id="nav-contact">Kontak</a></li>
                </ul>
            </nav>
            
            <div class="controls">
                <div class="theme-toggle" id="theme-toggle">
                    <div class="theme-highlight"></div>
                    <i class="fas fa-sun theme-icon" id="theme-icon"></i>
                    <div class="theme-options">
                        <div class="theme-option" id="light-option">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="theme-option" id="dark-option">
                            <i class="fas fa-moon"></i>
                        </div>
                    </div>
                </div>
                
                <div class="language-toggle" id="language-toggle">
                    <div class="language-highlight"></div>
                    <i class="fas fa-globe language-icon"></i>
                    <div class="language-options">
                        <div class="language-option" id="id-option">
                            <span>ID</span>
                        </div>
                        <div class="language-option" id="en-option">
                            <span>EN</span>
                        </div>
                    </div>
                </div>
                
                <button class="music-btn" id="music-btn">
                    <i class="fas fa-music music-icon" id="music-icon"></i>
                </button>
                
                <div class="music-player" id="music-player">
                    <button class="music-player-expand" id="music-player-expand">
                        <i class="fas fa-expand"></i>
                    </button>
                    <div class="music-info">
                        <div class="music-cover" id="music-cover">
                            <img src="" alt="Cover Musik" id="music-cover-img">
                        </div>
                        <div class="music-details">
                            <div class="marquee-container">
                                <div class="marquee-content">
                                    <div class="music-title" id="music-title">Lagu Saya</div>
                                </div>
                            </div>
                            <div class="marquee-container">
                                <div class="marquee-content">
                                    <div class="music-artist" id="music-artist">Chioriya Developer</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="music-controls">
                        <button class="music-control-btn prev" id="prev-btn">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="music-control-btn play-pause" id="play-pause-btn">
                            <i class="fas fa-play" id="play-pause-icon"></i>
                        </button>
                        <button class="music-control-btn next" id="next-btn">
                            <i class="fas fa-step-forward"></i>
                        </button>
                    </div>
                </div>
                
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </button>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-bg"></div>
        <div class="hero-liquid-shape"></div>
        <div class="container">
            <div class="profile-img">
                <img src="" alt="Profile Picture" id="profile-picture">
            </div>
            <h1 id="name">Chioriya Developer</h1>
            <p class="tagline" id="tagline">Pengembang Chioriya Paste & Chioriya Bot</p>
            <a href="#contact" class="cta-button" id="cta-button">Hubungi Saya</a>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <h2 class="section-title" id="about-title">Tentang Saya</h2>
            <div class="about-content">
                <div class="about-text">
                    <p id="about-text-1" class="fade-in-up">
                        Saya adalah seorang pengembang perangkat lunak yang lebih memilih bekerja dari rumah, menciptakan solusi inovatif dari kenyamanan ruang kerja pribadi saya. Meskipun beberapa mungkin menyebutnya "gabut", saya melihatnya sebagai fokus yang mendalam pada apa yang benar-benar penting: menciptakan teknologi yang berguna.
                    </p>
                    <p id="about-text-2" class="fade-in-up delay-1">
                        Sebagai pengembang di balik Chioriya Paste dan Chioriya Bot WhatsApp, saya telah mengabdikan diri untuk menciptakan alat yang memudahkan komunikasi dan berbagi informasi. Pendekatan saya yang "malas keluar rumah" sebenarnya adalah komitmen terhadap efisiensi dan produktivitas maksimal.
                    </p>
                    <p id="about-text-3" class="fade-in-up delay-2">
                        Dengan fokus pada pengembangan yang berkelanjutan dan inovatif, saya terus meningkatkan kedua platform ini untuk memberikan pengalaman pengguna yang lebih baik, semuanya tanpa perlu meninggalkan kenyamanan rumah.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="skills">
        <div class="container">
            <h2 class="section-title" id="skills-title">Keahlian</h2>
            <div class="skills">
                <div class="skill-card fade-in-up">
                    <div class="skill-icon">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <h3 id="skill-1-title">Programmer</h3>
                    <p id="skill-1-desc">Ahli dalam berbagai bahasa pemrograman dengan fokus pada pengembangan aplikasi dan sistem yang efisien dan inovatif.</p>
                </div>
                <div class="skill-card fade-in-up delay-1">
                    <div class="skill-icon">
                        <i class="fas fa-photo-video"></i>
                    </div>
                    <h3 id="skill-2-title">Editor</h3>
                    <p id="skill-2-desc">Menguasai teknik editing video dan grafis untuk menciptakan konten visual yang menarik dan profesional.</p>
                </div>
                <div class="skill-card fade-in-up delay-2">
                    <div class="skill-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 id="skill-3-title">Gamer</h3>
                    <p id="skill-3-desc">Memiliki pengalaman luas dalam berbagai genre game dengan kemampuan analisis gameplay yang mendalam.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="projects" class="projects">
        <div class="container">
            <h2 class="section-title" id="projects-title">Projects</h2>
            <div class="project-grid">
                <div class="project-card fade-in-up">
                    <div class="project-img">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="project-content">
                        <h3 id="project-1-title">Chioriya Bot</h3>
                        <p id="project-1-desc">Bot WhatsApp multifungsi yang dirancang untuk meningkatkan efisiensi komunikasi dengan berbagai fitur otomatisasi.</p>
                    </div>
                </div>
                <div class="project-card fade-in-up delay-1">
                    <div class="project-img">
                        <i class="fas fa-paste"></i>
                    </div>
                    <div class="project-content">
                        <h3 id="project-2-title">Chioriya Paste</h3>
                        <p id="project-2-desc">Platform berbagi teks yang memungkinkan pengguna untuk dengan mudah menyimpan dan berbagi cuplikan kode atau teks.</p>
                    </div>
                </div>
                <div class="project-card fade-in-up delay-2">
                    <div class="project-img">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="project-content">
                        <h3 id="project-3-title">Keila API</h3>
                        <p id="project-3-desc">API yang powerful dan mudah diintegrasikan untuk berbagai kebutuhan pengembangan aplikasi dan sistem.</p>
                    </div>
                </div>
                <div class="project-card fade-in-up delay-3">
                    <div class="project-img">
                        <i class="fas fa-laptop"></i>
                    </div>
                    <div class="project-content">
                        <h3 id="project-4-title">Portofolio</h3>
                        <p id="project-4-desc">Website portofolio interaktif dengan desain modern, animasi yang halus, dan fungsionalitas yang responsif.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <h2 class="section-title" id="contact-title">Hubungi Saya</h2>
            <div class="contact-links">
                <a href="#" class="contact-link" id="whatsapp-link">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp Group</span>
                </a>
                <a href="#" class="contact-link" id="github-link">
                    <i class="fab fa-github"></i>
                    <span>GitHub</span>
                </a>
                <a href="#" class="contact-link" id="website-link">
                    <i class="fas fa-globe"></i>
                    <span>Website</span>
                </a>
                <a href="#" class="contact-link" id="email-link">
                    <i class="fas fa-envelope"></i>
                    <span>Email</span>
                </a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p id="footer-text">&copy; 2025 Chioriya Developer. Semua hak dilindungi.</p>
        </div>
    </footer>

    <div class="contact-modal" id="contact-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon" id="modal-icon">
                    <i class="fab fa-whatsapp" id="modal-icon-i"></i>
                </div>
                <h3 class="modal-title" id="modal-title">WhatsApp Group</h3>
            </div>
            <div class="modal-body">
                <div class="url-container">
                    <div class="url-text" id="url-text">https://chat.whatsapp.com/CjCEnQRtlqV3NGRfekH8FV</div>
                    <button class="copy-btn" id="copy-btn">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn close" id="modal-close">Tutup</button>
                <button class="modal-btn join" id="modal-action">Gabung</button>
            </div>
        </div>
    </div>

    <div class="music-popup" id="music-popup">
        <div class="music-popup-container">
            <div class="music-popup-close" id="music-popup-close">
                <i class="fas fa-times"></i>
            </div>
            <div class="music-popup-player">
                <div class="music-popup-options">
                    <button class="music-popup-options-btn" id="music-popup-options-btn">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                    <div class="music-popup-options-menu" id="music-popup-options-menu">
                        <button class="music-popup-option" id="download-music-option">Download Musik</button>
                        <button class="music-popup-option" id="lyrics-option">Lirik</button>
                    </div>
                </div>
                <div class="music-popup-cover">
                    <img src="" alt="Cover Musik" id="music-popup-cover-img">
                </div>
                <h3 class="music-popup-title" id="music-popup-title">Judul Lagu</h3>
                <p class="music-popup-artist" id="music-popup-artist">Nama Artis</p>
                <div class="music-popup-progress">
                    <div class="progress-time">
                        <span id="current-time">0:00</span>
                        <span id="total-time">0:00</span>
                    </div>
                    <div class="progress-bar-container" id="progress-bar-container">
                        <div class="progress-bar-fill" id="progress-bar-fill"></div>
                    </div>
                </div>
                <div class="music-popup-controls">
                    <button class="music-popup-btn" id="music-popup-prev">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="music-popup-btn" id="music-popup-backward">
                        <i class="fas fa-backward"></i>
                    </button>
                    <button class="music-popup-btn play-pause" id="music-popup-play-pause">
                        <i class="fas fa-play" id="music-popup-play-pause-icon"></i>
                    </button>
                    <button class="music-popup-btn" id="music-popup-forward">
                        <i class="fas fa-forward"></i>
                    </button>
                    <button class="music-popup-btn" id="music-popup-next">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
            </div>
            <div class="music-popup-list">
                <div class="music-popup-list-header">
                    <button class="playlist-back-btn" id="playlist-back-btn" style="display: none;">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h3 class="music-popup-list-title" id="music-popup-list-title">Daftar Putar</h3>
                    <div class="playlist-search" id="playlist-search" style="display: none;">
                        <input type="text" id="search-input" placeholder="Cari musik...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
                <div class="music-popup-list-content">
                    <div class="playlist-grid" id="playlist-grid">
                        <div class="playlist-item" data-playlist="genshin">
                            <div class="playlist-cover">
                                <img src="https://files.catbox.moe/63hdh0.png" alt="Genshin Impact">
                            </div>
                            <div class="playlist-name">Genshin Impact</div>
                            <div class="playlist-count">5 Lagu</div>
                        </div>
                        <div class="playlist-item" data-playlist="honkai-sr">
                            <div class="playlist-cover">
                                <img src="https://via.placeholder.com/100" alt="Honkai: Star Rail">
                            </div>
                            <div class="playlist-name">Honkai: Star Rail</div>
                            <div class="playlist-count">0 Lagu</div>
                        </div>
                        <div class="playlist-item" data-playlist="honkai-impact">
                            <div class="playlist-cover">
                                <img src="https://via.placeholder.com/100" alt="Honkai Impact 3">
                            </div>
                            <div class="playlist-name">Honkai Impact 3</div>
                            <div class="playlist-count">0 Lagu</div>
                        </div>
                    </div>
                    <div id="music-popup-list-items" style="display: none;"></div>
                </div>
            </div>
            <div class="music-popup-lyrics" id="music-popup-lyrics">
                <button class="lyrics-close-btn" id="lyrics-close-btn">
                    <i class="fas fa-arrow-left"></i> <span id="lyrics-close-text">Kembali ke Playlist</span>
                </button>
                <div class="lyrics-content" id="lyrics-content"></div>
            </div>
        </div>
    </div>

    <div class="settings-popup" id="settings-popup">
        <div class="settings-popup-container">
            <div class="settings-popup-close" id="settings-popup-close">
                <i class="fas fa-times"></i>
            </div>
            <div class="settings-columns">
                <div class="settings-left">
                    <h3 class="settings-popup-title" id="settings-popup-title">Pengaturan</h3>
                    
                    <div class="settings-section">
                        <h4 class="settings-section-title" id="settings-section-title">Pengaturan Umum</h4>
                        <div class="settings-list">
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <div class="settings-item-title" id="toast-notif-title">Toast Notifikasi</div>
                                    <div class="settings-item-desc" id="toast-notif-desc">Tampilkan notifikasi toast</div>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="toast-toggle" class="toggle-checkbox" checked>
                                    <label for="toast-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <div class="settings-item-title" id="amoled-title">Amoled Dark Mode</div>
                                    <div class="settings-item-desc" id="amoled-desc">Mode gelap untuk layar AMOLED</div>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="amoled-toggle" class="toggle-checkbox">
                                    <label for="amoled-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <div class="settings-item-title" id="auto-switch-title">Auto Switch Song</div>
                                    <div class="settings-item-desc" id="auto-switch-desc">Otomatis ganti lagu saat selesai</div>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="auto-switch-toggle" class="toggle-checkbox" checked>
                                    <label for="auto-switch-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <div class="settings-item-title" id="bypass-playlist-title">Bypass Playlist</div>
                                    <div class="settings-item-desc" id="bypass-playlist-desc">Lewati playlist saat lagu habis</div>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="bypass-playlist-toggle" class="toggle-checkbox">
                                    <label for="bypass-playlist-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <div class="settings-item-title" id="random-auto-next-title">Random Auto Next</div>
                                    <div class="settings-item-desc" id="random-auto-next-desc">Acak lagu berikutnya dalam playlist</div>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="random-auto-next-toggle" class="toggle-checkbox">
                                    <label for="random-auto-next-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-right">
                    <div class="settings-section">
                        <h4 class="settings-section-title" id="games-section-title">Permainan</h4>
                        <div class="game-list" id="game-list">
                            <div class="game-item">
                                <div class="game-icon">
                                    <i class="fas fa-gamepad"></i>
                                </div>
                                <div class="game-name" id="game-1">Coming Soon</div>
                            </div>
                            <div class="game-item">
                                <div class="game-icon">
                                    <i class="fas fa-dice"></i>
                                </div>
                                <div class="game-name" id="game-2">Coming Soon</div>
                            </div>
                            <div class="game-item">
                                <div class="game-icon">
                                    <i class="fas fa-puzzle-piece"></i>
                                </div>
                                <div class="game-name" id="game-3">Coming Soon</div>
                            </div>
                            <div class="game-item">
                                <div class="game-icon">
                                    <i class="fas fa-chess"></i>
                                </div>
                                <div class="game-name" id="game-4">Coming Soon</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container" id="toast-container"></div>

    <script>
        const playlists = {
            genshin: {
                name: {
                    id: 'Genshin Impact',
                    en: 'Genshin Impact'
                },
                coverUrl: 'https://files.catbox.moe/63hdh0.png',
                musicList: [
                    {
                        title: 'Emberfire - HOYO-MiX, 希林娜依高',
                        artist: 'HOYO-MiX, 希林娜依高',
                        coverUrl: 'https://files.catbox.moe/63hdh0.png',
                        audioUrl: 'https://files.catbox.moe/4dae0p.mp3',
                        duration: '2:50',
                        lyrics: `May the birds soar from their cage
Sunbeams filter through the foliage
Flames grow with immortal courage
And I hope you won't be tainted by fate
Nothing to fear
So go alone

By the grace of pain
Hundreds of times you fight in the ruins
Your pride will not be slain
From the heart to the veins

Stay awake don't fall asleep
The way is long and the gloom is deep
Embers glowing in the hearth still seen
And I hope you won't be tainted by fate
Nothing to fear
Never look back
Go ahead

Though bones and minds were chained
You cut down the thorns again and again
Your pride will not be slain
From the heart to the veins

(Nec fatum finire te) Hoo
(Nec tribulatio potest)
(Haec olim meminisse iuvabit)

Oh, Flames grow with immortal courage
And your world will never fall away
Nothing to fear
Beneath the scars
You'll never be tainted by fate`
                    },
                    {
                        title: 'The Road Not Taken - HOYO-MiX, Aimer',
                        artist: 'HOYO-MiX, Aimer',
                        coverUrl: 'https://files.catbox.moe/tpjrev.png',
                        audioUrl: 'https://files.catbox.moe/ags8go.mp3',
                        duration: '3:24',
                        lyrics: `Traveling in the nights you've left me in
I feel you in the last blow of wind
Even nowhere I can find you out
The answer is not far off now

(Ooh)
This journey of ours has been bittersweet
Close my eyes wondering what you would have dreamed
If you were here standing next to me
Would you know how I feel
And see what I see?

Know that I'll always try (Always try)
Finding your rhythm and rhyme (Rhythm and rhyme)
Though the nights are long and dark, I'll see you shining bright
And no matter where you are (Where you are)
You've come with me this far (This far)
Showing the way when all else falls apart
(Hmm)

(Hah)
(Hah)

When the snow all melts away (Ah)
And the ice finally breaks
Have you taken off, are you already on your way?
No matter where you are, I've come with you this far
I'm never really lost
Our paths will surely cross`
                    },
                    {
                        title: 'Star Odyssey - HOYO-Mix, 鈴木愛理',
                        artist: 'HOYO-Mix, 鈴木愛理',
                        coverUrl: 'https://files.catbox.moe/5mb46q.png',
                        audioUrl: 'https://files.catbox.moe/xju3ka.mp3',
                        duration: '3:13',
                        lyrics: `[Verse 1]
If your long journey makes you drift too far away
And if the dust and time still weigh you down, pulling you astray
If passing years change you somehow
Fret not, this simple rhyme will still be there with you now
[Chorus]
Please know that I stay to wait
Please know that I stay to see
Through all the changing seasons, sun and rain
Right here I stand
I am still here
Waiting for you
Here I will stay
[Verse 2]
These silent fading melodies hold memories from our past you see
These gentle echoes still convey old promises from you and me
Offering comfort through the silent years
Dispelling lonely fears
Know I wait
[Chorus]
I wait
I wait
Know I wait
Wait for you`
                    },
                    {
                        title: 'Columbina Lullaby - HOYO-MiX',
                        artist: 'HOYO-MiX',
                        coverUrl: 'https://files.catbox.moe/vd0k0p.png',
                        audioUrl: 'https://files.catbox.moe/vs8bpd.mp3',
                        duration: '2:10',
                        lyrics: `Dormi, cara Columbula
O Columbula mea
Senti ad fenestram
Adsint somnians flora

O cara filia lunae
Ne verum ambulo
Vivo te tam
Nec ea cum est sua amans
Tam pia, bona Somnians a luna

Dormi cara Columbula
O Columbula mea
Senti ad fenestram
Adsint somnians flora

O cara filia lunae
Ne verum ambulo
Vivo te tam Nec ea cum est sua amans
Tam pia, bona Somnians a luna Tam pia
Bona Somnians a luna`
                    },
                    {
                        title: 'The Long Way Home (English Version) · HOYO-MiX',
                        artist: 'HOYO-MiX',
                        coverUrl: 'https://files.catbox.moe/xldtrr.png',
                        audioUrl: 'https://files.catbox.moe/qhzm4g.mp3',
                        duration: '2:52',
                        lyrics: `[Verse: Erika Harlacher]
See the stars above you shining
Guiding you along
Hear the music in the forest
As you make your journey home
When the nights are getting colder
And when you lose your way
Feel my hand upon your shoulder
And remember you're not alone

[Pre-Chorus: Erika]
The scent of summer wine on the breeze
The lanterns soaring over the sea
Wherever we go, you need to know
That as long as you are by my side
We'll never be far from home

[Chorus: Erika]
For you, you light up
Every corner of the world
You fill the air with joy and life
So please, when you feel it's going wrong
Just take a moment
Cast your burdens to the wind
And listen as it sings you a song

[Pre-Chorus: Erika]
Long days that turn into sleepless nights
The memories we share shine so bright
Wherever we go, you need to know
That as long as you are by my side
We'll never be far from home

[Chorus: Erika, Unison]
For you, you light up
Every corner of the world
You fill the air with joy and life
So please, when you feel it's going wrong
Just take a moment
Come back to our special place
And there the wind will sing to you of
How you light up
Every corner of the world
And make us all feel so alive
You know, when the time has come to journey home
That every star and every cloud
Is smiling down on you, Traveler`
                    }
                ]
            },
            'honkai-sr': {
                name: {
                    id: 'Honkai: Star Rail',
                    en: 'Honkai: Star Rail'
                },
                coverUrl: 'https://via.placeholder.com/100',
                musicList: []
            },
            'honkai-impact': {
                name: {
                    id: 'Honkai Impact 3',
                    en: 'Honkai Impact 3'
                },
                coverUrl: 'https://via.placeholder.com/100',
                musicList: []
            },
            'zenless-zone-zero': {
                name: {
                    id: 'Zenless Zone Zero',
                    en: 'Zenless Zone Zero'
                },
                coverUrl: 'https://via.placeholder.com/100',
                musicList: []
            }
        };

        const contactData = {
            whatsapp: {
                url: 'https://chat.whatsapp.com/CjCEnQRtlqV3NGRfekH8FV',
                title: {
                    id: 'WhatsApp Group',
                    en: 'WhatsApp Group'
                },
                action: {
                    id: 'Gabung',
                    en: 'Join'
                },
                icon: 'fab fa-whatsapp'
            },
            github: {
                url: 'https://github.com/TerserahGw',
                title: {
                    id: 'GitHub',
                    en: 'GitHub'
                },
                action: {
                    id: 'Kunjungi',
                    en: 'Visit'
                },
                icon: 'fab fa-github'
            },
            website: {
                url: 'https://chioriya.vercel.app',
                title: {
                    id: 'Website',
                    en: 'Website'
                },
                action: {
                    id: 'Kunjungi',
                    en: 'Visit'
                },
                icon: 'fas fa-globe'
            },
            email: {
                url: 'keisenpaiarigatou@gmail.com',
                title: {
                    id: 'Email',
                    en: 'Email'
                },
                action: {
                    id: '',
                    en: ''
                },
                icon: 'fas fa-envelope'
            }
        };

        const userLanguage = navigator.language || navigator.userLanguage;
        const isIndonesian = userLanguage.startsWith('id');
        
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        let isDarkTheme = prefersDarkScheme.matches;
        
        const content = {
            id: {
                name: "Chioriya Developer",
                tagline: "Pengembang Chioriya Paste & Chioriya Bot",
                aboutTitle: "Tentang Saya",
                aboutText1: "Saya adalah seorang pengembang perangkat lunak yang lebih memilih bekerja dari rumah, menciptakan solusi inovatif dari kenyamanan ruang kerja pribadi saya. Meskipun beberapa mungkin menyebutnya 'gabut', saya melihatnya sebagai fokus yang mendalam pada apa yang benar-benar penting: menciptakan teknologi yang berguna.",
                aboutText2: "Sebagai pengembang di balik Chioriya Paste dan Chioriya Bot WhatsApp, saya telah mengabdikan diri untuk menciptakan alat yang memudahkan komunikasi dan berbagi informasi. Pendekatan saya yang 'malas keluar rumah' sebenarnya adalah komitmen terhadap efisiensi dan produktivitas maksimal.",
                aboutText3: "Dengan fokus pada pengembangan yang berkelanjutan dan inovatif, saya terus meningkatkan kedua platform ini untuk memberikan pengalaman pengguna yang lebih baik, semuanya tanpa perlu meninggalkan kenyamanan rumah.",
                skillsTitle: "Keahlian",
                skill1Title: "Programmer",
                skill1Desc: "Ahli dalam berbagai bahasa pemrograman dengan fokus pada pengembangan aplikasi dan sistem yang efisien dan inovatif.",
                skill2Title: "Editor",
                skill2Desc: "Menguasai teknik editing video dan grafis untuk menciptakan konten visual yang menarik dan profesional.",
                skill3Title: "Gamer",
                skill3Desc: "Memiliki pengalaman luas dalam berbagai genre game dengan kemampuan analisis gameplay yang mendalam.",
                projectsTitle: "Projects",
                project1Title: "Chioriya Bot",
                project1Desc: "Bot WhatsApp multifungsi yang dirancang untuk meningkatkan efisiensi komunikasi dengan berbagai fitur otomatisasi.",
                project2Title: "Chioriya Paste",
                project2Desc: "Platform berbagi teks yang memungkinkan pengguna untuk dengan mudah menyimpan dan berbagi cuplikan kode atau teks.",
                project3Title: "Keila API",
                project3Desc: "API yang powerful dan mudah diintegrasikan untuk berbagai kebutuhan pengembangan aplikasi dan sistem.",
                project4Title: "Portofolio",
                project4Desc: "Website portofolio interaktif dengan desain modern, animasi yang halus, dan fungsionalitas yang responsif.",
                contactTitle: "Hubungi Saya",
                ctaButton: "Hubungi Saya",
                footerText: "&copy; 2025 Chioriya Developer. Semua hak dilindungi.",
                copiedText: "Teks berhasil disalin!",
                closeText: "Tutup",
                musicPlaying: "Memutar",
                musicPaused: "Menjeda",
                musicChanged: "Berganti ke",
                themeChanged: "Tema berubah ke",
                languageChanged: "Bahasa berubah ke",
                navAbout: "Tentang",
                navSkills: "Keahlian",
                navProjects: "Projects",
                navContact: "Kontak",
                musicPlaylist: "Daftar Putar",
                settingsTitle: "Pengaturan",
                settingsSectionTitle: "Pengaturan Umum",
                gamesSectionTitle: "Permainan",
                toastNotifTitle: "Toast Notifikasi",
                toastNotifDesc: "Tampilkan notifikasi toast",
                amoledTitle: "Amoled Dark Mode",
                amoledDesc: "Mode gelap untuk layar AMOLED",
                autoSwitchTitle: "Auto Switch Song",
                autoSwitchDesc: "Otomatis ganti lagu saat selesai",
                bypassPlaylistTitle: "Bypass Playlist",
                bypassPlaylistDesc: "Lewati playlist saat lagu habis",
                randomAutoNextTitle: "Random Auto Next",
                randomAutoNextDesc: "Acak lagu berikutnya dalam playlist",
                comingSoon: "Coming Soon",
                downloadMusic: "Download Musik",
                lyrics: "Lirik",
                backToPlaylist: "Kembali ke Playlist",
                searchMusic: "Cari musik..."
            },
            en: {
                name: "Chioriya Developer",
                tagline: "Developer of Chioriya Paste & Chioriya Bot",
                aboutTitle: "About Me",
                aboutText1: "I am a software developer who prefers working from home, creating innovative solutions from the comfort of my personal workspace. While some might call it 'unmotivated', I see it as deep focus on what truly matters: creating useful technology.",
                aboutText2: "As the developer behind Chioriya Paste and Chioriya WhatsApp Bot, I have dedicated myself to creating tools that facilitate communication and information sharing. My 'homebody' approach is actually a commitment to efficiency and maximum productivity.",
                aboutText3: "With a focus on sustainable and innovative development, I continue to improve both platforms to provide a better user experience, all without having to leave the comfort of home.",
                skillsTitle: "Skills",
                skill1Title: "Programmer",
                skill1Desc: "Expert in various programming languages with a focus on developing efficient and innovative applications and systems.",
                skill2Title: "Editor",
                skill2Desc: "Mastering video and graphic editing techniques to create engaging and professional visual content.",
                skill3Title: "Gamer",
                skill3Desc: "Extensive experience in various game genres with deep gameplay analysis capabilities.",
                projectsTitle: "Projects",
                project1Title: "Chioriya Bot",
                project1Desc: "Multifunctional WhatsApp bot designed to enhance communication efficiency with various automation features.",
                project2Title: "Chioriya Paste",
                project2Desc: "Text sharing platform that allows users to easily store and share code snippets or text.",
                project3Title: "Keila API",
                project3Desc: "Powerful and easy-to-integrate API for various application and system development needs.",
                project4Title: "Portfolio",
                project4Desc: "Interactive portfolio website with modern design, smooth animations, and responsive functionality.",
                contactTitle: "Contact Me",
                ctaButton: "Contact Me",
                footerText: "&copy; 2025 Chioriya Developer. All rights reserved.",
                copiedText: "Text copied successfully!",
                closeText: "Close",
                musicPlaying: "Playing",
                musicPaused: "Pausing",
                musicChanged: "Switching to",
                themeChanged: "Theme changed to",
                languageChanged: "Language changed to",
                navAbout: "About",
                navSkills: "Skills",
                navProjects: "Projects",
                navContact: "Contact",
                musicPlaylist: "Playlist",
                settingsTitle: "Settings",
                settingsSectionTitle: "General Settings",
                gamesSectionTitle: "Games",
                toastNotifTitle: "Toast Notifications",
                toastNotifDesc: "Show toast notifications",
                amoledTitle: "Amoled Dark Mode",
                amoledDesc: "Dark mode for AMOLED screens",
                autoSwitchTitle: "Auto Switch Song",
                autoSwitchDesc: "Automatically switch songs when finished",
                bypassPlaylistTitle: "Bypass Playlist",
                bypassPlaylistDesc: "Skip playlist when song ends",
                randomAutoNextTitle: "Random Auto Next",
                randomAutoNextDesc: "Randomize next song in playlist",
                comingSoon: "Coming Soon",
                downloadMusic: "Download Music",
                lyrics: "Lyrics",
                backToPlaylist: "Back to Playlist",
                searchMusic: "Search music..."
            }
        };

        const welcomeScreen = document.getElementById('welcome-screen');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const loadingDetail = document.getElementById('loading-detail');
        const clickInstruction = document.getElementById('click-instruction');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const themeHighlight = document.querySelector('.theme-highlight');
        const lightOption = document.getElementById('light-option');
        const darkOption = document.getElementById('dark-option');
        const languageToggle = document.getElementById('language-toggle');
        const languageHighlight = document.querySelector('.language-highlight');
        const idOption = document.getElementById('id-option');
        const enOption = document.getElementById('en-option');
        const musicBtn = document.getElementById('music-btn');
        const musicIcon = document.getElementById('music-icon');
        const musicPlayer = document.getElementById('music-player');
        const musicPlayerExpand = document.getElementById('music-player-expand');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const playPauseIcon = document.getElementById('play-pause-icon');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const musicTitle = document.getElementById('music-title');
        const musicArtist = document.getElementById('music-artist');
        const musicCover = document.getElementById('music-cover');
        const musicCoverImg = document.getElementById('music-cover-img');
        const profilePicture = document.getElementById('profile-picture');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const nav = document.getElementById('main-nav');
        const navLinks = document.querySelectorAll('.nav-link');
        const navIndicator = document.querySelector('.nav-indicator');
        const contactLinks = document.querySelectorAll('.contact-link');
        const contactModal = document.getElementById('contact-modal');
        const modalIcon = document.getElementById('modal-icon-i');
        const modalTitle = document.getElementById('modal-title');
        const urlText = document.getElementById('url-text');
        const copyBtn = document.getElementById('copy-btn');
        const modalClose = document.getElementById('modal-close');
        const modalAction = document.getElementById('modal-action');
        const toastContainer = document.getElementById('toast-container');
        const musicPopup = document.getElementById('music-popup');
        const musicPopupClose = document.getElementById('music-popup-close');
        const musicPopupCoverImg = document.getElementById('music-popup-cover-img');
        const musicPopupTitle = document.getElementById('music-popup-title');
        const musicPopupArtist = document.getElementById('music-popup-artist');
        const musicPopupListTitle = document.getElementById('music-popup-list-title');
        const currentTime = document.getElementById('current-time');
        const totalTime = document.getElementById('total-time');
        const progressBarFill = document.getElementById('progress-bar-fill');
        const progressBarContainer = document.getElementById('progress-bar-container');
        const musicPopupPrev = document.getElementById('music-popup-prev');
        const musicPopupBackward = document.getElementById('music-popup-backward');
        const musicPopupPlayPause = document.getElementById('music-popup-play-pause');
        const musicPopupPlayPauseIcon = document.getElementById('music-popup-play-pause-icon');
        const musicPopupForward = document.getElementById('music-popup-forward');
        const musicPopupNext = document.getElementById('music-popup-next');
        const musicPopupListItems = document.getElementById('music-popup-list-items');
        const playlistGrid = document.getElementById('playlist-grid');
        const playlistBackBtn = document.getElementById('playlist-back-btn');
        const playlistSearch = document.getElementById('playlist-search');
        const searchInput = document.getElementById('search-input');
        const logo = document.getElementById('logo');
        const settingsPopup = document.getElementById('settings-popup');
        const settingsPopupClose = document.getElementById('settings-popup-close');
        const settingsPopupTitle = document.getElementById('settings-popup-title');
        const settingsSectionTitle = document.getElementById('settings-section-title');
        const gamesSectionTitle = document.getElementById('games-section-title');
        const toastNotifTitle = document.getElementById('toast-notif-title');
        const toastNotifDesc = document.getElementById('toast-notif-desc');
        const amoledTitle = document.getElementById('amoled-title');
        const amoledDesc = document.getElementById('amoled-desc');
        const autoSwitchTitle = document.getElementById('auto-switch-title');
        const autoSwitchDesc = document.getElementById('auto-switch-desc');
        const bypassPlaylistTitle = document.getElementById('bypass-playlist-title');
        const bypassPlaylistDesc = document.getElementById('bypass-playlist-desc');
        const randomAutoNextTitle = document.getElementById('random-auto-next-title');
        const randomAutoNextDesc = document.getElementById('random-auto-next-desc');
        const toastToggle = document.getElementById('toast-toggle');
        const amoledToggle = document.getElementById('amoled-toggle');
        const autoSwitchToggle = document.getElementById('auto-switch-toggle');
        const bypassPlaylistToggle = document.getElementById('bypass-playlist-toggle');
        const randomAutoNextToggle = document.getElementById('random-auto-next-toggle');
        const gameItems = document.querySelectorAll('.game-name');
        const musicPopupOptionsBtn = document.getElementById('music-popup-options-btn');
        const musicPopupOptionsMenu = document.getElementById('music-popup-options-menu');
        const downloadMusicOption = document.getElementById('download-music-option');
        const lyricsOption = document.getElementById('lyrics-option');
        const musicPopupLyrics = document.getElementById('music-popup-lyrics');
        const lyricsCloseBtn = document.getElementById('lyrics-close-btn');
        const lyricsContent = document.getElementById('lyrics-content');
        const lyricsCloseText = document.getElementById('lyrics-close-text');
        
        let currentLanguage = isIndonesian ? 'id' : 'en';
        let isThemeToggleActive = false;
        let isLanguageToggleActive = false;
        let isMusicPlaying = false;
        let currentPlaylist = 'genshin';
        let currentMusicIndex = 0;
        let audioElement = null;
        let currentContactType = '';
        let resourcesLoaded = false;
        let loadingProgress = 0;
        let totalResources = 0;
        let loadedResources = 0;
        let loadingInterval;
        let maxLoadingTimeout;
        let canProceed = false;
        let languageToggleTimeout;
        let themeToggleTimeout;
        let toastQueue = [];
        let isShowingToast = false;
        let isDraggingProgress = false;
        let progressUpdateInterval;
        let enableToast = true;
        let enableAmoledDark = false;
        let enableAutoSwitch = true;
        let enableBypassPlaylist = false;
        let enableRandomAutoNext = false;
        let isShowingLyrics = false;
        let isInPlaylistView = false;
        let filteredMusicList = [];
        let playedSongs = [];
        let playlistOrder = Object.keys(playlists);

        function initializeWelcomeScreen() {
            loadingProgress = 0;
            loadedResources = 0;
            
            let resourceCount = 0;
            Object.keys(playlists).forEach(playlistId => {
                const playlist = playlists[playlistId];
                resourceCount += playlist.musicList.length + 1;
            });
            totalResources = resourceCount + 1;
            
            loadingInterval = setInterval(() => {
                if (!resourcesLoaded && loadingProgress < 90) {
                    loadingProgress += 5;
                    updateProgressBar();
                    loadingDetail.textContent = "Memuat aplikasi...";
                }
            }, 150);
            
            maxLoadingTimeout = setTimeout(() => {
                if (!resourcesLoaded) {
                    finishLoading();
                }
            }, 5000);
            
            loadResources();
        }
        
        function loadResources() {
            const profileImage = new Image();
            profileImage.onload = () => {
                profilePicture.src = 'https://files.catbox.moe/bwq7hy.jpg';
                resourceLoaded("Foto Profil");
            };
            profileImage.onerror = () => {
                profilePicture.src = '';
                resourceLoaded("Foto Profil");
            };
            profileImage.src = 'https://files.catbox.moe/bwq7hy.jpg';
            
            Object.keys(playlists).forEach(playlistId => {
                const playlist = playlists[playlistId];
                
                const coverImage = new Image();
                coverImage.onload = () => resourceLoaded(`Cover Playlist ${playlist.name[currentLanguage]}`);
                coverImage.onerror = () => resourceLoaded(`Cover Playlist ${playlist.name[currentLanguage]}`);
                coverImage.src = playlist.coverUrl;
                
                playlist.musicList.forEach((music, index) => {
                    const musicCoverImage = new Image();
                    musicCoverImage.onload = () => resourceLoaded(`Cover Musik ${playlist.name[currentLanguage]} - ${music.title}`);
                    musicCoverImage.onerror = () => resourceLoaded(`Cover Musik ${playlist.name[currentLanguage]} - ${music.title}`);
                    musicCoverImage.src = music.coverUrl;
                });
            });
            
            audioElement = new Audio();
            audioElement.preload = 'auto';
            
            audioElement.addEventListener('ended', handleTrackEnd);
            audioElement.addEventListener('timeupdate', updateProgress);
            audioElement.addEventListener('loadedmetadata', updateTotalTime);
            
            const currentMusic = playlists[currentPlaylist].musicList[0];
            musicTitle.textContent = currentMusic.title;
            musicArtist.textContent = currentMusic.artist;
            musicCoverImg.src = currentMusic.coverUrl;
            musicPopupCoverImg.src = currentMusic.coverUrl;
            musicPopupTitle.textContent = currentMusic.title;
            musicPopupArtist.textContent = currentMusic.artist;
            
            const audioLoaded = () => resourceLoaded("Musik siap");
            audioElement.addEventListener('canplaythrough', audioLoaded, {once: true});
            audioElement.addEventListener('error', audioLoaded, {once: true});
            audioElement.src = currentMusic.audioUrl;
            
            setTimeout(() => {
                if (loadedResources < totalResources) {
                    finishLoading();
                }
            }, 3000);
        }
        
        function handleTrackEnd() {
            if (enableAutoSwitch) {
                if (enableRandomAutoNext) {
                    playRandomSongInPlaylist();
                } else {
                    changeMusic('next');
                }
            } else {
                audioElement.currentTime = 0;
                audioElement.play();
            }
        }
        
        function playRandomSongInPlaylist() {
            const currentPlaylistObj = playlists[currentPlaylist];
            const availableSongs = currentPlaylistObj.musicList
                .map((_, index) => index)
                .filter(index => !playedSongs.includes(index));
            
            if (availableSongs.length === 0) {
                playedSongs = [];
                playRandomSongInPlaylist();
                return;
            }
            
            const randomIndex = availableSongs[Math.floor(Math.random() * availableSongs.length)];
            playedSongs.push(randomIndex);
            playMusicByIndex(randomIndex);
        }
        
        function resourceLoaded(resourceName) {
            loadedResources++;
            
            const calculatedProgress = Math.min(90, Math.floor((loadedResources / totalResources) * 90));
            if (calculatedProgress > loadingProgress) {
                loadingProgress = calculatedProgress;
            }
            updateProgressBar();
            loadingDetail.textContent = `Memuat: ${resourceName}`;
            
            if (loadedResources >= totalResources) {
                finishLoading();
            }
        }
        
        function finishLoading() {
            clearInterval(loadingInterval);
            clearTimeout(maxLoadingTimeout);
            resourcesLoaded = true;
            loadingProgress = 100;
            updateProgressBar();
            loadingDetail.textContent = "Selesai!";
            
            clickInstruction.style.display = 'block';
            canProceed = true;
        }
        
        function updateProgressBar() {
            progressBar.style.width = `${loadingProgress}%`;
            progressText.textContent = `${loadingProgress}%`;
        }
        
        function hideWelcomeScreen() {
            if (!canProceed) return;
            
            welcomeScreen.classList.add('hidden');
            
            setTimeout(() => {
                welcomeScreen.style.display = 'none';
                setTimeout(() => {
                    playRandomMusic();
                }, 100);
            }, 800);
        }
        
        function setInitialTheme() {
            if (isDarkTheme) {
                document.body.classList.add('dark-theme');
                themeIcon.className = 'fas fa-moon theme-icon';
                darkOption.classList.add('active');
                themeHighlight.style.left = '65px';
                
                if (enableAmoledDark) {
                    document.body.classList.add('amoled-dark');
                }
            } else {
                document.body.classList.remove('dark-theme');
                document.body.classList.remove('amoled-dark');
                themeIcon.className = 'fas fa-sun theme-icon';
                lightOption.classList.add('active');
                themeHighlight.style.left = '5px';
            }
        }
        
        function toggleTheme() {
            if (!isThemeToggleActive) {
                isThemeToggleActive = true;
                themeToggle.classList.add('active');
                
                setTimeout(() => {
                    isDarkTheme = !isDarkTheme;
                    
                    if (isDarkTheme) {
                        document.body.classList.add('dark-theme');
                        themeIcon.className = 'fas fa-moon theme-icon';
                        lightOption.classList.remove('active');
                        darkOption.classList.add('active');
                        themeHighlight.style.left = '65px';
                        
                        if (enableAmoledDark) {
                            document.body.classList.add('amoled-dark');
                        }
                    } else {
                        document.body.classList.remove('dark-theme');
                        document.body.classList.remove('amoled-dark');
                        themeIcon.className = 'fas fa-sun theme-icon';
                        darkOption.classList.remove('active');
                        lightOption.classList.add('active');
                        themeHighlight.style.left = '5px';
                    }
                    
                    showThemeNotification();
                    
                    setTimeout(() => {
                        themeToggle.classList.remove('active');
                        isThemeToggleActive = false;
                    }, 500);
                }, 300);
            }
        }
        
        function toggleLanguage() {
            if (!isLanguageToggleActive) {
                isLanguageToggleActive = true;
                languageToggle.classList.add('active');
                
                setTimeout(() => {
                    currentLanguage = currentLanguage === 'id' ? 'en' : 'id';
                    updateContent();
                    
                    if (currentLanguage === 'id') {
                        idOption.classList.add('active');
                        enOption.classList.remove('active');
                        languageHighlight.style.left = '5px';
                    } else {
                        enOption.classList.add('active');
                        idOption.classList.remove('active');
                        languageHighlight.style.left = '65px';
                    }
                    
                    showLanguageNotification();
                    
                    setTimeout(() => {
                        languageToggle.classList.remove('active');
                        isLanguageToggleActive = false;
                    }, 800);
                }, 300);
            }
        }
        
        function toggleMusicPlayer() {
            musicPlayer.classList.toggle('active');
        }
        
        function toggleMusicPopup() {
            musicPopup.classList.toggle('active');
            if (musicPopup.classList.contains('active')) {
                updatePlaylistView();
                startProgressUpdate();
                if (isShowingLyrics) {
                    showLyrics();
                } else {
                    hideLyrics();
                }
            } else {
                stopProgressUpdate();
            }
        }
        
        function toggleSettingsPopup() {
            settingsPopup.classList.toggle('active');
        }
        
        function closeMusicPopup(e) {
            if (e.target === musicPopup) {
                toggleMusicPopup();
            }
        }
        
        function closeSettingsPopup(e) {
            if (e.target === settingsPopup) {
                toggleSettingsPopup();
            }
        }
        
        function animateIconTransition() {
            musicIcon.style.animation = 'iconTransition 0.3s ease forwards';
            setTimeout(() => {
                musicIcon.style.animation = '';
            }, 300);
        }
        
        function toggleMusicPlayback() {
            if (isMusicPlaying) {
                audioElement.pause();
                isMusicPlaying = false;
                playPauseIcon.className = 'fas fa-play';
                musicPopupPlayPauseIcon.className = 'fas fa-play';
                musicBtn.classList.remove('active');
                musicBtn.classList.add('muted');
                animateIconTransition();
                updateMediaSessionState('paused');
                showMusicNotification('paused');
            } else {
                const playPromise = audioElement.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isMusicPlaying = true;
                        playPauseIcon.className = 'fas fa-pause';
                        musicPopupPlayPauseIcon.className = 'fas fa-pause';
                        musicBtn.classList.add('active');
                        musicBtn.classList.remove('muted');
                        animateIconTransition();
                        updateMediaSessionState('playing');
                        showMusicNotification('playing');
                    }).catch(error => {
                        console.log('Autoplay failed:', error);
                    });
                }
            }
        }
        
        function changeMusic(direction) {
            musicBtn.classList.add('changing');
            musicCover.classList.add('changing');
            musicPopupCoverImg.classList.add('changing');
            musicTitle.classList.add('changing');
            musicArtist.classList.add('changing');
            musicPopupTitle.classList.add('changing');
            musicPopupArtist.classList.add('changing');
            
            setTimeout(() => {
                if (isMusicPlaying) {
                    audioElement.pause();
                }
                
                const currentPlaylistObj = playlists[currentPlaylist];
                if (direction === 'next') {
                    currentMusicIndex = (currentMusicIndex + 1) % currentPlaylistObj.musicList.length;
                    
                    if (currentMusicIndex === 0 && enableBypassPlaylist) {
                        const currentPlaylistIndex = playlistOrder.indexOf(currentPlaylist);
                        const nextPlaylistIndex = (currentPlaylistIndex + 1) % playlistOrder.length;
                        currentPlaylist = playlistOrder[nextPlaylistIndex];
                        currentMusicIndex = 0;
                    }
                } else {
                    currentMusicIndex = (currentMusicIndex - 1 + currentPlaylistObj.musicList.length) % currentPlaylistObj.musicList.length;
                }
                
                const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
                musicTitle.textContent = currentMusic.title;
                musicArtist.textContent = currentMusic.artist;
                musicCoverImg.src = currentMusic.coverUrl;
                musicPopupCoverImg.src = currentMusic.coverUrl;
                musicPopupTitle.textContent = currentMusic.title;
                musicPopupArtist.textContent = currentMusic.artist;
                
                audioElement.src = currentMusic.audioUrl;
                
                audioElement.addEventListener('ended', handleTrackEnd);
                
                if (isMusicPlaying) {
                    const playPromise = audioElement.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            updateMediaSessionState('playing');
                            showMusicNotification('changed');
                        }).catch(error => {
                            console.log('Autoplay failed:', error);
                        });
                    }
                }
                
                updateMediaSessionMetadata();
                updateMusicList();
                updatePlaylistHighlight();
                
                if (isShowingLyrics) {
                    updateLyrics();
                }
                
                setTimeout(() => {
                    musicBtn.classList.remove('changing');
                    musicCover.classList.remove('changing');
                    musicPopupCoverImg.classList.remove('changing');
                    musicTitle.classList.remove('changing');
                    musicArtist.classList.remove('changing');
                    musicPopupTitle.classList.remove('changing');
                    musicPopupArtist.classList.remove('changing');
                }, 500);
            }, 300);
        }
        
        function playMusicByIndex(index) {
            if (index === currentMusicIndex) return;
            
            musicBtn.classList.add('changing');
            musicCover.classList.add('changing');
            musicPopupCoverImg.classList.add('changing');
            musicTitle.classList.add('changing');
            musicArtist.classList.add('changing');
            musicPopupTitle.classList.add('changing');
            musicPopupArtist.classList.add('changing');
            
            setTimeout(() => {
                if (isMusicPlaying) {
                    audioElement.pause();
                }
                
                currentMusicIndex = index;
                
                const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
                musicTitle.textContent = currentMusic.title;
                musicArtist.textContent = currentMusic.artist;
                musicCoverImg.src = currentMusic.coverUrl;
                musicPopupCoverImg.src = currentMusic.coverUrl;
                musicPopupTitle.textContent = currentMusic.title;
                musicPopupArtist.textContent = currentMusic.artist;
                
                audioElement.src = currentMusic.audioUrl;
                
                audioElement.addEventListener('ended', handleTrackEnd);
                
                if (isMusicPlaying) {
                    const playPromise = audioElement.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            updateMediaSessionState('playing');
                            showMusicNotification('changed');
                        }).catch(error => {
                            console.log('Autoplay failed:', error);
                        });
                    }
                }
                
                updateMediaSessionMetadata();
                updateMusicList();
                updatePlaylistHighlight();
                
                if (isShowingLyrics) {
                    updateLyrics();
                }
                
                setTimeout(() => {
                    musicBtn.classList.remove('changing');
                    musicCover.classList.remove('changing');
                    musicPopupCoverImg.classList.remove('changing');
                    musicTitle.classList.remove('changing');
                    musicArtist.classList.remove('changing');
                    musicPopupTitle.classList.remove('changing');
                    musicPopupArtist.classList.remove('changing');
                }, 500);
            }, 300);
        }
        
        function playRandomMusic() {
            if (!audioElement) return;
            
            const allMusic = [];
            Object.keys(playlists).forEach(playlistId => {
                const playlist = playlists[playlistId];
                if (playlist.musicList.length > 0) {
                    playlist.musicList.forEach((music, index) => {
                        allMusic.push({
                            playlistId: playlistId,
                            index: index,
                            music: music
                        });
                    });
                }
            });
            
            if (allMusic.length === 0) return;
            
            const randomMusic = allMusic[Math.floor(Math.random() * allMusic.length)];
            currentPlaylist = randomMusic.playlistId;
            currentMusicIndex = randomMusic.index;
            const currentMusic = randomMusic.music;
            
            musicTitle.textContent = currentMusic.title;
            musicArtist.textContent = currentMusic.artist;
            musicCoverImg.src = currentMusic.coverUrl;
            musicPopupCoverImg.src = currentMusic.coverUrl;
            musicPopupTitle.textContent = currentMusic.title;
            musicPopupArtist.textContent = currentMusic.artist;
            
            audioElement.src = currentMusic.audioUrl;
            
            audioElement.addEventListener('ended', handleTrackEnd);
            
            updateMediaSessionMetadata();
            updateMusicList();
            updatePlaylistHighlight();
            
            const playPromise = audioElement.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    isMusicPlaying = true;
                    playPauseIcon.className = 'fas fa-pause';
                    musicPopupPlayPauseIcon.className = 'fas fa-pause';
                    musicBtn.classList.add('active');
                    musicBtn.classList.remove('muted');
                    animateIconTransition();
                    
                    updateMediaSessionState('playing');
                    showMusicNotification('playing');
                }).catch(error => {
                    console.log('Autoplay failed:', error);
                    isMusicPlaying = false;
                    playPauseIcon.className = 'fas fa-play';
                    musicPopupPlayPauseIcon.className = 'fas fa-play';
                    musicBtn.classList.remove('active');
                    musicBtn.classList.add('muted');
                });
            }
        }
        
        function updateMediaSessionMetadata() {
            if ('mediaSession' in navigator) {
                const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: currentMusic.title,
                    artist: currentMusic.artist,
                    album: 'Chioriya Music',
                    artwork: [
                        { src: currentMusic.coverUrl, sizes: '96x96', type: 'image/png' },
                        { src: currentMusic.coverUrl, sizes: '128x128', type: 'image/png' },
                        { src: currentMusic.coverUrl, sizes: '192x192', type: 'image/png' },
                        { src: currentMusic.coverUrl, sizes: '256x256', type: 'image/png' },
                        { src: currentMusic.coverUrl, sizes: '384x384', type: 'image/png' },
                        { src: currentMusic.coverUrl, sizes: '512x512', type: 'image/png' }
                    ]
                });
                
                navigator.mediaSession.setActionHandler('play', function() {
                    if (!isMusicPlaying) {
                        toggleMusicPlayback();
                    }
                });
                
                navigator.mediaSession.setActionHandler('pause', function() {
                    if (isMusicPlaying) {
                        toggleMusicPlayback();
                    }
                });
                
                navigator.mediaSession.setActionHandler('previoustrack', function() {
                    changeMusic('prev');
                });
                
                navigator.mediaSession.setActionHandler('nexttrack', function() {
                    changeMusic('next');
                });
            }
        }
        
        function updateMediaSessionState(state) {
            if ('mediaSession' in navigator) {
                navigator.mediaSession.playbackState = state;
            }
        }
        
        function updateProgress() {
            if (!isDraggingProgress && audioElement.duration) {
                const progressPercent = (audioElement.currentTime / audioElement.duration) * 100;
                progressBarFill.style.width = `${progressPercent}%`;
                
                const minutes = Math.floor(audioElement.currentTime / 60);
                const seconds = Math.floor(audioElement.currentTime % 60);
                currentTime.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }
        }
        
        function updateTotalTime() {
            if (audioElement.duration) {
                const minutes = Math.floor(audioElement.duration / 60);
                const seconds = Math.floor(audioElement.duration % 60);
                totalTime.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }
        }
        
        function startProgressUpdate() {
            progressUpdateInterval = setInterval(updateProgress, 500);
        }
        
        function stopProgressUpdate() {
            clearInterval(progressUpdateInterval);
        }
        
        function seekMusic(e) {
            if (!audioElement.duration) return;
            
            const rect = progressBarContainer.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            audioElement.currentTime = percent * audioElement.duration;
        }
        
        function startDrag(e) {
            isDraggingProgress = true;
            document.addEventListener('mousemove', dragProgress);
            document.addEventListener('mouseup', stopDrag);
            seekMusic(e);
        }
        
        function dragProgress(e) {
            seekMusic(e);
        }
        
        function stopDrag() {
            isDraggingProgress = false;
            document.removeEventListener('mousemove', dragProgress);
            document.removeEventListener('mouseup', stopDrag);
        }
        
        function skipForward() {
            if (audioElement.duration) {
                audioElement.currentTime = Math.min(audioElement.currentTime + 10, audioElement.duration);
            }
        }
        
        function skipBackward() {
            if (audioElement.duration) {
                audioElement.currentTime = Math.max(audioElement.currentTime - 10, 0);
            }
        }
        
        function updatePlaylistView() {
            playlistGrid.innerHTML = '';
            
            Object.keys(playlists).forEach(playlistId => {
                const playlist = playlists[playlistId];
                const item = document.createElement('div');
                item.className = `playlist-item ${playlistId === currentPlaylist ? 'active' : ''}`;
                item.setAttribute('data-playlist', playlistId);
                item.innerHTML = `
                    <div class="playlist-cover">
                        <img src="${playlist.coverUrl}" alt="${playlist.name[currentLanguage]}">
                    </div>
                    <div class="playlist-name">${playlist.name[currentLanguage]}</div>
                    <div class="playlist-count">${playlist.musicList.length} ${currentLanguage === 'id' ? 'Lagu' : 'Songs'}</div>
                `;
                
                item.addEventListener('click', () => openPlaylist(playlistId));
                playlistGrid.appendChild(item);
            });
        }
        
        function updatePlaylistHighlight() {
            document.querySelectorAll('.playlist-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-playlist') === currentPlaylist) {
                    item.classList.add('active');
                }
            });
        }
        
        function openPlaylist(playlistId) {
            currentPlaylist = playlistId;
            isInPlaylistView = true;
            filteredMusicList = [...playlists[playlistId].musicList];
            
            playlistBackBtn.style.display = 'flex';
            playlistSearch.style.display = 'block';
            playlistGrid.style.display = 'none';
            musicPopupListItems.style.display = 'block';
            musicPopupListTitle.textContent = playlists[playlistId].name[currentLanguage];
            
            updateMusicList();
            updatePlaylistHighlight();
        }
        
        function closePlaylist() {
            isInPlaylistView = false;
            
            playlistBackBtn.style.display = 'none';
            playlistSearch.style.display = 'none';
            playlistGrid.style.display = 'grid';
            musicPopupListItems.style.display = 'none';
            musicPopupListTitle.textContent = content[currentLanguage].musicPlaylist;
            
            searchInput.value = '';
            filteredMusicList = [];
            updatePlaylistHighlight();
        }
        
        function updateMusicList() {
            if (!isInPlaylistView) return;
            
            musicPopupListItems.innerHTML = '';
            
            const musicList = filteredMusicList.length > 0 ? filteredMusicList : playlists[currentPlaylist].musicList;
            
            musicList.forEach((music, index) => {
                const originalIndex = playlists[currentPlaylist].musicList.findIndex(m => m.title === music.title);
                const item = document.createElement('div');
                item.className = `music-popup-item ${originalIndex === currentMusicIndex ? 'active' : ''}`;
                item.innerHTML = `
                    <div class="music-popup-item-cover">
                        <img src="${music.coverUrl}" alt="${music.title}">
                    </div>
                    <div class="music-popup-item-info">
                        <div class="music-popup-item-title">${music.title}</div>
                        <div class="music-popup-item-artist">${music.artist}</div>
                    </div>
                    <div class="music-popup-item-duration">${music.duration}</div>
                `;
                
                item.addEventListener('click', () => playMusicByIndex(originalIndex));
                musicPopupListItems.appendChild(item);
            });
        }
        
        function searchMusic() {
            const searchTerm = searchInput.value.toLowerCase();
            if (searchTerm === '') {
                filteredMusicList = [...playlists[currentPlaylist].musicList];
            } else {
                filteredMusicList = playlists[currentPlaylist].musicList.filter(music => 
                    music.title.toLowerCase().includes(searchTerm) || 
                    music.artist.toLowerCase().includes(searchTerm)
                );
            }
            updateMusicList();
        }
        
        function showToast(message, type = 'default', duration = 3000) {
            if (!enableToast) return;
            
            toastQueue.push({ message, type, duration });
            if (!isShowingToast) {
                processToastQueue();
            }
        }
        
        function processToastQueue() {
            if (toastQueue.length === 0 || isShowingToast) return;
            
            isShowingToast = true;
            const { message, type, duration } = toastQueue.shift();
            
            const toast = document.createElement('div');
            toast.className = `toast ${type}-toast`;
            toast.innerHTML = `
                <i class="fas ${getToastIcon(type)}"></i>
                <span class="toast-content">${message}</span>
            `;
            
            if (type === 'music') {
                toast.addEventListener('click', toggleMusicPopup);
            }
            
            toastContainer.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('active');
                
                setTimeout(() => {
                    toast.classList.remove('active');
                    toast.classList.add('exiting');
                    
                    setTimeout(() => {
                        toastContainer.removeChild(toast);
                        isShowingToast = false;
                        processToastQueue();
                    }, 500);
                }, duration);
            }, 100);
        }
        
        function getToastIcon(type) {
            switch(type) {
                case 'music': return 'fa-music';
                case 'theme': return 'fa-palette';
                case 'language': return 'fa-language';
                case 'copy': return 'fa-check-circle';
                case 'settings': return 'fa-cog';
                default: return 'fa-bell';
            }
        }
        
        function showMusicNotification(action) {
            const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
            let message = '';
            
            if (window.innerWidth <= 768) {
                switch (action) {
                    case 'playing':
                        message = `${content[currentLanguage].musicPlaying} Music`;
                        break;
                    case 'paused':
                        message = `${content[currentLanguage].musicPaused} Music`;
                        break;
                    case 'changed':
                        message = `${content[currentLanguage].musicChanged} Music`;
                        break;
                }
            } else {
                switch (action) {
                    case 'playing':
                        message = `${content[currentLanguage].musicPlaying} "${currentMusic.title}"`;
                        break;
                    case 'paused':
                        message = `${content[currentLanguage].musicPaused} "${currentMusic.title}"`;
                        break;
                    case 'changed':
                        message = `${content[currentLanguage].musicChanged} "${currentMusic.title}"`;
                        break;
                }
            }
            
            showToast(message, 'music', 3000);
        }
        
        function showThemeNotification() {
            const themeName = isDarkTheme ? 
                (currentLanguage === 'id' ? 'Gelap' : 'Dark') : 
                (currentLanguage === 'id' ? 'Terang' : 'Light');
            
            const message = `${content[currentLanguage].themeChanged} ${themeName}`;
            showToast(message, 'theme', 2000);
        }
        
        function showLanguageNotification() {
            const languageName = currentLanguage === 'id' ? 'Indonesia' : 'English';
            
            const message = `${content[currentLanguage].languageChanged} ${languageName}`;
            showToast(message, 'language', 2000);
        }
        
        function showCopyNotification() {
            const message = content[currentLanguage].copiedText;
            showToast(message, 'copy', 2000);
        }
        
        function showSettingsNotification(settingName, isEnabled) {
            const status = isEnabled ? 
                (currentLanguage === 'id' ? 'diaktifkan' : 'enabled') : 
                (currentLanguage === 'id' ? 'dinonaktifkan' : 'disabled');
            
            const message = `${settingName} ${status}`;
            showToast(message, 'settings', 2000);
        }
        
        function updateContent() {
            const langData = content[currentLanguage];
            
            document.getElementById('name').textContent = langData.name;
            document.getElementById('tagline').textContent = langData.tagline;
            document.getElementById('about-title').textContent = langData.aboutTitle;
            document.getElementById('about-text-1').textContent = langData.aboutText1;
            document.getElementById('about-text-2').textContent = langData.aboutText2;
            document.getElementById('about-text-3').textContent = langData.aboutText3;
            document.getElementById('skills-title').textContent = langData.skillsTitle;
            document.getElementById('skill-1-title').textContent = langData.skill1Title;
            document.getElementById('skill-1-desc').textContent = langData.skill1Desc;
            document.getElementById('skill-2-title').textContent = langData.skill2Title;
            document.getElementById('skill-2-desc').textContent = langData.skill2Desc;
            document.getElementById('skill-3-title').textContent = langData.skill3Title;
            document.getElementById('skill-3-desc').textContent = langData.skill3Desc;
            document.getElementById('projects-title').textContent = langData.projectsTitle;
            document.getElementById('project-1-title').textContent = langData.project1Title;
            document.getElementById('project-1-desc').textContent = langData.project1Desc;
            document.getElementById('project-2-title').textContent = langData.project2Title;
            document.getElementById('project-2-desc').textContent = langData.project2Desc;
            document.getElementById('project-3-title').textContent = langData.project3Title;
            document.getElementById('project-3-desc').textContent = langData.project3Desc;
            document.getElementById('project-4-title').textContent = langData.project4Title;
            document.getElementById('project-4-desc').textContent = langData.project4Desc;
            document.getElementById('contact-title').textContent = langData.contactTitle;
            document.getElementById('cta-button').textContent = langData.ctaButton;
            document.getElementById('footer-text').innerHTML = langData.footerText;
            document.getElementById('modal-close').textContent = langData.closeText;
            
            document.getElementById('nav-about').textContent = langData.navAbout;
            document.getElementById('nav-skills').textContent = langData.navSkills;
            document.getElementById('nav-projects').textContent = langData.navProjects;
            document.getElementById('nav-contact').textContent = langData.navContact;
            
            document.getElementById('music-popup-list-title').textContent = langData.musicPlaylist;
            document.getElementById('settings-popup-title').textContent = langData.settingsTitle;
            document.getElementById('settings-section-title').textContent = langData.settingsSectionTitle;
            document.getElementById('games-section-title').textContent = langData.gamesSectionTitle;
            document.getElementById('toast-notif-title').textContent = langData.toastNotifTitle;
            document.getElementById('toast-notif-desc').textContent = langData.toastNotifDesc;
            document.getElementById('amoled-title').textContent = langData.amoledTitle;
            document.getElementById('amoled-desc').textContent = langData.amoledDesc;
            document.getElementById('auto-switch-title').textContent = langData.autoSwitchTitle;
            document.getElementById('auto-switch-desc').textContent = langData.autoSwitchDesc;
            document.getElementById('bypass-playlist-title').textContent = langData.bypassPlaylistTitle;
            document.getElementById('bypass-playlist-desc').textContent = langData.bypassPlaylistDesc;
            document.getElementById('random-auto-next-title').textContent = langData.randomAutoNextTitle;
            document.getElementById('random-auto-next-desc').textContent = langData.randomAutoNextDesc;
            
            document.getElementById('download-music-option').textContent = langData.downloadMusic;
            document.getElementById('lyrics-option').textContent = langData.lyrics;
            document.getElementById('lyrics-close-text').textContent = langData.backToPlaylist;
            document.getElementById('search-input').placeholder = langData.searchMusic;
            
            gameItems.forEach(item => {
                item.textContent = langData.comingSoon;
            });
            
            Object.keys(playlists).forEach(playlistId => {
                const playlist = playlists[playlistId];
                const playlistItems = document.querySelectorAll(`.playlist-item[data-playlist="${playlistId}"] .playlist-name`);
                playlistItems.forEach(item => {
                    item.textContent = playlist.name[currentLanguage];
                });
                
                const playlistCounts = document.querySelectorAll(`.playlist-item[data-playlist="${playlistId}"] .playlist-count`);
                playlistCounts.forEach(item => {
                    item.textContent = `${playlist.musicList.length} ${currentLanguage === 'id' ? 'Lagu' : 'Songs'}`;
                });
            });
            
            if (isInPlaylistView) {
                musicPopupListTitle.textContent = playlists[currentPlaylist].name[currentLanguage];
            }
            
            if (currentLanguage === 'id') {
                clickInstruction.textContent = "Klik di mana saja untuk melanjutkan";
            } else {
                clickInstruction.textContent = "Click anywhere to continue";
            }
            
            if (currentContactType) {
                updateModalContent(currentContactType);
            }
        }
        
        function toggleMobileMenu() {
            mobileMenuBtn.classList.toggle('active');
            nav.classList.toggle('active');
            
            if (nav.classList.contains('active') && window.innerWidth <= 768) {
                const menuItems = document.querySelectorAll('#main-nav ul li');
                menuItems.forEach((item, index) => {
                    item.style.animation = 'none';
                    setTimeout(() => {
                        item.style.animation = `bounceIn 0.6s ease forwards ${index * 0.1}s`;
                    }, 10);
                });
            }
        }
        
        function closeMobileMenu() {
            mobileMenuBtn.classList.remove('active');
            nav.classList.remove('active');
        }
        
        function closeMusicPlayer(e) {
            if (!musicBtn.contains(e.target) && !musicPlayer.contains(e.target)) {
                musicPlayer.classList.remove('active');
            }
        }
        
        function updateNavIndicator() {
            const activeLink = document.querySelector('.nav-link.active');
            if (activeLink && navIndicator) {
                const linkRect = activeLink.getBoundingClientRect();
                const navRect = activeLink.parentElement.getBoundingClientRect();
                
                navIndicator.style.width = `${linkRect.width}px`;
                navIndicator.style.left = `${linkRect.left - navRect.left}px`;
            }
        }
        
        function setActiveNavLink() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.clientHeight;
                if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
            
            updateNavIndicator();
        }
        
        function openContactModal(type) {
            currentContactType = type;
            updateModalContent(type);
            contactModal.classList.add('active');
        }
        
        function updateModalContent(type) {
            const data = contactData[type];
            const langData = content[currentLanguage];
            
            modalIcon.className = data.icon;
            modalTitle.textContent = data.title[currentLanguage];
            urlText.textContent = data.url;
            
            if (type === 'email') {
                modalAction.style.display = 'none';
            } else {
                modalAction.style.display = 'block';
                modalAction.textContent = data.action[currentLanguage];
            }
        }
        
        function closeContactModal() {
            contactModal.classList.remove('active');
            contactLinks.forEach(link => {
                link.classList.remove('active');
            });
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showCopyNotification();
                setTimeout(closeContactModal, 500);
            });
        }
        
        function handleContactLinkClick(e, type) {
            e.preventDefault();
            
            contactLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            e.currentTarget.classList.add('active');
            
            setTimeout(() => {
                openContactModal(type);
            }, 300);
        }
        
        function handleContactAction() {
            const data = contactData[currentContactType];
            
            if (currentContactType === 'email') {
                copyToClipboard(data.url);
            } else {
                window.open(data.url, '_blank');
                closeContactModal();
            }
        }
        
        function handleToggleSwitchChange(e) {
            const settingName = e.target.id;
            const isEnabled = e.target.checked;
            
            switch(settingName) {
                case 'toast-toggle':
                    enableToast = isEnabled;
                    showSettingsNotification('Toast Notifications', isEnabled);
                    break;
                case 'amoled-toggle':
                    enableAmoledDark = isEnabled;
                    if (isDarkTheme) {
                        if (isEnabled) {
                            document.body.classList.add('amoled-dark');
                        } else {
                            document.body.classList.remove('amoled-dark');
                        }
                    }
                    showSettingsNotification('AMOLED Dark Mode', isEnabled);
                    break;
                case 'auto-switch-toggle':
                    enableAutoSwitch = isEnabled;
                    showSettingsNotification('Auto Switch Song', isEnabled);
                    break;
                case 'bypass-playlist-toggle':
                    enableBypassPlaylist = isEnabled;
                    showSettingsNotification('Bypass Playlist', isEnabled);
                    break;
                case 'random-auto-next-toggle':
                    enableRandomAutoNext = isEnabled;
                    playedSongs = []; // Reset played songs when toggling
                    showSettingsNotification('Random Auto Next', isEnabled);
                    break;
            }
        }
        
        function toggleMusicOptionsMenu() {
            musicPopupOptionsMenu.classList.toggle('active');
        }
        
        function closeMusicOptionsMenu(e) {
            if (!musicPopupOptionsBtn.contains(e.target) && !musicPopupOptionsMenu.contains(e.target)) {
                musicPopupOptionsMenu.classList.remove('active');
            }
        }
        
        function downloadMusic() {
            const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
            const a = document.createElement('a');
            a.href = currentMusic.audioUrl;
            a.download = currentMusic.title + '.mp3';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            musicPopupOptionsMenu.classList.remove('active');
        }
        
        function showLyrics() {
            document.querySelector('.music-popup-list').style.display = 'none';
            musicPopupLyrics.style.display = 'flex';
            isShowingLyrics = true;
            updateLyrics();
            musicPopupOptionsMenu.classList.remove('active');
        }
        
        function hideLyrics() {
            musicPopupLyrics.style.display = 'none';
            document.querySelector('.music-popup-list').style.display = 'flex';
            isShowingLyrics = false;
        }
        
        function updateLyrics() {
            const currentMusic = playlists[currentPlaylist].musicList[currentMusicIndex];
            lyricsContent.textContent = currentMusic.lyrics;
            lyricsContent.classList.remove('active');
            setTimeout(() => {
                lyricsContent.classList.add('active');
            }, 50);
        }
        
        function initEventListeners() {
            welcomeScreen.addEventListener('click', hideWelcomeScreen);
            
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && canProceed) {
                    e.preventDefault();
                    hideWelcomeScreen();
                }
            });
            
            themeToggle.addEventListener('click', toggleTheme);
            languageToggle.addEventListener('click', toggleLanguage);
            
            lightOption.addEventListener('click', () => {
                if (isDarkTheme) {
                    toggleTheme();
                }
            });
            
            darkOption.addEventListener('click', () => {
                if (!isDarkTheme) {
                    toggleTheme();
                }
            });
            
            idOption.addEventListener('click', () => {
                if (currentLanguage !== 'id') {
                    toggleLanguage();
                }
            });
            
            enOption.addEventListener('click', () => {
                if (currentLanguage !== 'en') {
                    toggleLanguage();
                }
            });
            
            musicBtn.addEventListener('click', toggleMusicPlayer);
            document.addEventListener('click', closeMusicPlayer);
            
            playPauseBtn.addEventListener('click', toggleMusicPlayback);
            prevBtn.addEventListener('click', () => changeMusic('prev'));
            nextBtn.addEventListener('click', () => changeMusic('next'));
            
            musicPlayerExpand.addEventListener('click', toggleMusicPopup);
            musicPopupClose.addEventListener('click', toggleMusicPopup);
            musicPopup.addEventListener('click', closeMusicPopup);
            
            musicPopupPlayPause.addEventListener('click', toggleMusicPlayback);
            musicPopupPrev.addEventListener('click', () => changeMusic('prev'));
            musicPopupNext.addEventListener('click', () => changeMusic('next'));
            musicPopupBackward.addEventListener('click', skipBackward);
            musicPopupForward.addEventListener('click', skipForward);
            
            progressBarContainer.addEventListener('mousedown', startDrag);
            
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        closeMobileMenu();
                    }
                });
            });
            
            window.addEventListener('scroll', setActiveNavLink);
            window.addEventListener('resize', updateNavIndicator);
            
            document.getElementById('whatsapp-link').addEventListener('click', (e) => {
                handleContactLinkClick(e, 'whatsapp');
            });
            
            document.getElementById('github-link').addEventListener('click', (e) => {
                handleContactLinkClick(e, 'github');
            });
            
            document.getElementById('website-link').addEventListener('click', (e) => {
                handleContactLinkClick(e, 'website');
            });
            
            document.getElementById('email-link').addEventListener('click', (e) => {
                handleContactLinkClick(e, 'email');
            });
            
            modalClose.addEventListener('click', closeContactModal);
            modalAction.addEventListener('click', handleContactAction);
            contactModal.addEventListener('click', (e) => {
                if (e.target === contactModal) {
                    closeContactModal();
                }
            });
            
            copyBtn.addEventListener('click', () => {
                copyToClipboard(urlText.textContent);
            });
            
            logo.addEventListener('click', toggleSettingsPopup);
            
            document.getElementById('cta-button').addEventListener('click', (e) => {
                e.preventDefault();
                document.getElementById('contact-link').click();
            });
            
            settingsPopupClose.addEventListener('click', toggleSettingsPopup);
            settingsPopup.addEventListener('click', closeSettingsPopup);
            
            toastToggle.addEventListener('change', handleToggleSwitchChange);
            amoledToggle.addEventListener('change', handleToggleSwitchChange);
            autoSwitchToggle.addEventListener('change', handleToggleSwitchChange);
            bypassPlaylistToggle.addEventListener('change', handleToggleSwitchChange);
            randomAutoNextToggle.addEventListener('change', handleToggleSwitchChange);
            
            musicPopupOptionsBtn.addEventListener('click', toggleMusicOptionsMenu);
            document.addEventListener('click', closeMusicOptionsMenu);
            
            downloadMusicOption.addEventListener('click', downloadMusic);
            lyricsOption.addEventListener('click', showLyrics);
            lyricsCloseBtn.addEventListener('click', hideLyrics);
            
            playlistBackBtn.addEventListener('click', closePlaylist);
            searchInput.addEventListener('input', searchMusic);
            
            document.querySelectorAll('.playlist-item').forEach(item => {
                item.addEventListener('click', () => {
                    const playlistId = item.getAttribute('data-playlist');
                    openPlaylist(playlistId);
                });
            });
        }
        
        function init() {
            setInitialTheme();
            updateContent();
            initEventListeners();
            updateNavIndicator();
            setActiveNavLink();
            initializeWelcomeScreen();
            
            if ('mediaSession' in navigator) {
                updateMediaSessionMetadata();
            }
        }
        
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>